var ge=Object.defineProperty,Pe=Object.defineProperties;var ye=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var he=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable;var J=(n,e,m)=>e in n?ge(n,e,{enumerable:!0,configurable:!0,writable:!0,value:m}):n[e]=m,W=(n,e)=>{for(var m in e||(e={}))he.call(e,m)&&J(n,m,e[m]);if(H)for(var m of H(e))ke.call(e,m)&&J(n,m,e[m]);return n},G=(n,e)=>Pe(n,ye(e));import{j as Ce,k as U,l as X,n as Ve,u as xe,_ as Se,at as Fe,r,x as Ue,o as Y,c as Z,w as i,i as t,e as l,I as c,h as v,K as s,au as L,z as p,Q as b,J as we,a7 as qe,aE as Me,aF as Ae}from"./index.ad099f98.js";import{Q as K,a as Ie}from"./index.5ebd5fcc.js";import{Q as V,a as f,b as x,C as _}from"./ClosePopup.45363672.js";import{Q as A}from"./QSelect.4a2625de.js";import{Q as S}from"./QDialog.abfc31bc.js";import{Q as F}from"./QInput.bd343c76.js";import{u as Be,a as Qe}from"./use-dark.17c46a23.js";import{Q as Ee}from"./QPage.ee2e9499.js";import{u as Oe}from"./itemStore.ab1a7624.js";import{K as $}from"./index.981bbc56.js";import"./use-form.4c4245c9.js";import"./QChip.247f9ca3.js";import"./QItem.5a60d082.js";import"./QItemLabel.bdbdce7a.js";import"./selection.f103b8d1.js";import"./use-timeout.8bacfa94.js";import"./format.a33550d6.js";import"./axios.8b6e0f41.js";const ze=["horizontal","vertical","cell","none"];var je=Ce({name:"QMarkupTable",props:G(W({},Be),{dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:n=>ze.includes(n)}}),setup(n,{slots:e}){const m=xe(),o=Qe(n,m.proxy.$q),w=U(()=>`q-markup-table q-table__container q-table__card q-table--${n.separator}-separator`+(o.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(n.dense===!0?" q-table--dense":"")+(n.flat===!0?" q-table--flat":"")+(n.bordered===!0?" q-table--bordered":"")+(n.square===!0?" q-table--square":"")+(n.wrapCells===!1?" q-table--no-wrap":""));return()=>X("div",{class:w.value},[X("table",{class:"q-table"},Ve(e.default))])}});const Ne={setup(){const n=Fe(),e=Oe(),m=r("data");n.currentRoute.value.query.action&&(m.value=n.currentRoute.value.query.action);const o=r(""),w=r(null),g=new Audio("../mixkit-wrong-long-buzzer-954.wav"),a=r(!1),q=r(""),ee=U(()=>m.value==="data"?"article":"photo_camera"),oe=U(()=>m.value==="data"?"Datos":"Fotos"),te=U(()=>e.iteminfo[0].UnidadDeDimensiones=="0"?"mil\xEDmetros":e.iteminfo[0].UnidadDeDimensiones=="1"?"cent\xEDmetros":"metros"),le=U(()=>e.iteminfo[0].UnidadDePeso=="0"?"gramos":"kilos");$.addListener("keyboardWillShow",I),$.addListener("keyboardDidShow",I);function I(){}async function ae(){let d={ae:e.aedocument,ud:o.value,empresa:e.customer};if(m.value,void 0){if(m.value==="load"){const C=await e.uploadUnit(d);console.log(C)}if(m.value==="download"){const C=await e.downloadUnit(d);console.log(C)}}}function Qo(d){}function ie(){g.play()}async function ne(){await e.changeItem()!==void 0&&(q.value="Haz m\xEDnimo una foto",a.value=!0,g.play())}Ue(()=>{});const se=r(!1),R=e.itemExtraInfo.departamentos.map(d=>d.CodigoDeDepartamento),de=r(R),B=r(e.iteminfo[0].CodigoDeDepartamento);async function re(){await e.itemDetpSave(B.value)===1&&(e.iteminfo[0].CodigoDeDepartamento=B.value)}const me=r(!1),T=e.itemExtraInfo.familias.map(d=>d.CodigoDeFamilia),ue=r(T),Q=r(e.iteminfo[0].CodigoDeFamilia);async function ce(){await e.itemFamilySave(Q.value)===1&&(e.iteminfo[0].CodigoDeFamilia=Q.value)}const fe=r(!1),E=[{label:"mil\xEDmetros",value:0},{label:"cent\xEDmetros",value:1},{label:"metros",value:2}],ve=r(E),O=r(E.find(d=>d.value===e.iteminfo[0].UnidadDeDimensiones)),P=r(e.iteminfo[0].ancho),y=r(e.iteminfo[0].longitud),h=r(e.iteminfo[0].alto);async function be(){if(P.value<=0||y.value<=0||h.value<=0){q.value="Las dimensiones deben ser mayores que 0",a.value=!0,g.play();return}function d(j,N=5){return parseFloat(parseFloat(j).toFixed(N))}await e.itemDimensionSave({unidad:O.value.value,ancho:d(P.value),longitud:d(y.value),alto:d(h.value),volumen:d(P.value*y.value*h.value)})===1&&(e.iteminfo[0].UnidadDeDimensiones=O.value.value,e.iteminfo[0].ancho=P.value,e.iteminfo[0].longitud=y.value,e.iteminfo[0].alto=h.value)}const pe=r(!1),z=[{label:"gramos",value:0},{label:"kilos",value:1}],_e=r(z),M=r(z.find(d=>d.value===e.iteminfo[0].UnidadDePeso)),D=r(e.iteminfo[0].pesoneto),k=r(e.iteminfo[0].PesoDeEmbalaje);async function De(){if(D.value<0){q.value="El peso neto no puede estar vac\xEDo o ser menor que 0",a.value=!0,g.play();return}function d(j,N=5){return parseFloat(parseFloat(j).toFixed(N))}console.log(M.value.value),await e.itemPesoSave({UnidadDePeso:M.value.value,PesoNeto:d(D.value),PesoDeEmbalaje:d(k.value)||0,PesoBruto:d(D.value+(k.value||0))})===1&&(e.iteminfo[0].UnidadDePeso=M.value.value,e.iteminfo[0].pesoneto=D.value,e.iteminfo[0].PesoDeEmbalaje=k.value,e.iteminfo[0].PesoBruto=D.value+k.value)}return{globalStore:e,action:m,radioIcons:ee,radioText:oe,barcode:o,returnFocus:I,barcodeinput:w,readBarcode:ae,alert:a,alertMsg:q,playError:ie,nuevaLectura:ne,itemDeptPrompt:se,itemDeptOptions:R,itemDeptOptionsFilter:de,itemDeptModel:B,itemDeptSave:re,itemFamilyPrompt:me,itemFamilyOptions:T,itemFamilyOptionsFilter:ue,itemFamilyModel:Q,itemFamilySave:ce,textDimension:te,textPeso:le,itemDimensionPrompt:fe,itemDimensionOptions:E,itemDimensionOptionsFilter:ve,itemDimensionModel:O,itemDimensionSave:be,itemAnchoModel:P,itemLongitudModel:y,itemAltoModel:h,itemPesoModel:M,itemPesoSave:De,itemPesoOptions:z,itemPesoOptionsFilter:_e,itemPesoPrompt:pe,itemPesoNetoModel:D,itemPesoEmbalajeModel:k}}},u=n=>(Me("data-v-cf6a380c"),n=n(),Ae(),n),Le={class:"text-center text-h5 text-weight-bold"},Ke={class:"text-center",style:{"font-size":"16px"}},Re={class:"q-pa-none",style:{"font-size":"16px"}},Te=u(()=>t("thead",null,[t("tr",null,[t("th",{class:"text-left",style:{"font-size":"16px"}},"Propiedad"),t("th",{class:"text-left",style:{"font-size":"16px"}},"Valor")])],-1)),He=u(()=>t("td",null,"Art\xEDculo",-1)),Je=u(()=>t("td",null,"Descripcion1",-1)),We=u(()=>t("td",null,"Alternativo",-1)),Ge={class:"thick-border"},Xe=v("Departamento"),Ye={class:"thick-border"},Ze=u(()=>t("div",{class:"text-h6"},"Departamento",-1)),$e={class:"thick-border"},eo=v("Familia"),oo={class:"thick-border"},to=u(()=>t("div",{class:"text-h6"},"Familia",-1)),lo=u(()=>t("td",{class:"thick-border"},"Subfamilia",-1)),ao={class:"thick-border"},io=u(()=>t("td",null,"ID Unidad",-1)),no=u(()=>t("td",null,"ID Unidad A",-1)),so=u(()=>t("td",null,"Equivalencia A",-1)),ro=u(()=>t("td",null,"C\xF3digo barras A",-1)),mo=u(()=>t("td",null,"ID Unidad B",-1)),uo=u(()=>t("td",null,"Equivalencia B",-1)),co=u(()=>t("td",null,"C\xF3digo barras B",-1)),fo={class:"thick-border"},vo=v("Unidad Dimensiones"),bo={class:"thick-border"},po=u(()=>t("div",{class:"text-h6"},"Dimensiones",-1)),_o={class:"row q-col-gutter-md"},Do={class:"col-4"},go={class:"col-4"},Po={class:"col-4"},yo=v("Alto unidad b\xE1sica"),ho=v("Ancho unidad b\xE1sica"),ko=v("Fondo unidad b\xE1sica"),Co={class:"thick-border"},Vo=v("Unidad Peso"),xo={class:"thick-border"},So=u(()=>t("div",{class:"text-h6"},"Peso",-1)),Fo={class:"row q-col-gutter-md"},Uo={class:"col-6"},wo={class:"col-6"},qo=v("Peso neto"),Mo=v("Peso embalaje"),Ao=v("Peso bruto"),Io=u(()=>t("div",{class:"text-h6"},"Error",-1));function Bo(n,e,m,o,w,g){return Y(),Z(Ee,{class:"flex-center q-pa-md"},{default:i(()=>[t("div",Le,[l(c,{name:o.radioIcons},null,8,["name"]),v(" "+s(o.radioText)+" "+s(o.globalStore.customer)+" ",1),l(c,{name:o.radioIcons},null,8,["name"])]),t("div",Ke,[l(K,{modelValue:o.action,"onUpdate:modelValue":e[0]||(e[0]=a=>o.action=a),class:L(o.action==="data"?"text-primary":"text-grey-5"),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"data",label:"Datos",onClick:o.returnFocus},null,8,["modelValue","class","onClick"]),l(K,{modelValue:o.action,"onUpdate:modelValue":e[1]||(e[1]=a=>o.action=a),class:L(o.action==="photo"?"text-primary":"text-grey-5"),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"photo",label:"Fotos UV",onClick:e[2]||(e[2]=a=>this.$router.push("/iphotos"))},null,8,["modelValue","class"]),l(K,{modelValue:o.action,"onUpdate:modelValue":e[3]||(e[3]=a=>o.action=a),class:L(o.action==="photoUA"?"text-primary":"text-grey-5"),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"photoua",label:"Fotos UA",onClick:e[4]||(e[4]=a=>this.$router.push("/iphotosua"))},null,8,["modelValue","class"])]),t("div",Re,[o.globalStore.iteminfo?(Y(),Z(je,{key:0,separator:"horizontal",dense:"",style:{"max-height":"75vh"}},{default:i(()=>[Te,t("tbody",null,[t("tr",null,[He,t("td",null,s(o.globalStore.iteminfo[0].CodigoDeArticulo),1)]),t("tr",null,[Je,t("td",null,s(o.globalStore.iteminfo[0].Descripcion1),1)]),t("tr",null,[We,t("td",null,s(o.globalStore.iteminfo[0].CodigoAlternativo),1)]),t("tr",{onClick:e[7]||(e[7]=a=>o.itemDeptPrompt=!0)},[t("td",Ge,[l(c,{name:"edit"}),Xe]),t("td",Ye,s(o.globalStore.iteminfo[0].CodigoDeDepartamento),1),l(S,{modelValue:o.itemDeptPrompt,"onUpdate:modelValue":e[6]||(e[6]=a=>o.itemDeptPrompt=a),persistent:""},{default:i(()=>[l(V,{style:{"min-width":"66vw"}},{default:i(()=>[l(f,null,{default:i(()=>[Ze]),_:1}),l(f,{class:"q-pt-none"},{default:i(()=>[l(A,{filled:"",modelValue:o.itemDeptModel,"onUpdate:modelValue":e[5]||(e[5]=a=>o.itemDeptModel=a),"input-debounce":"0",options:o.itemDeptOptionsFilter},null,8,["modelValue","options"])]),_:1}),l(x,{align:"right",class:"text-primary"},{default:i(()=>[p(l(b,{label:"Cancelar",color:"accent"},null,512),[[_]]),p(l(b,{label:"Cambiar",onClick:o.itemDeptSave,color:"positive"},null,8,["onClick"]),[[_]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),t("tr",{onClick:e[10]||(e[10]=a=>o.itemFamilyPrompt=!0)},[t("td",$e,[l(c,{name:"edit"}),eo]),t("td",oo,s(o.globalStore.iteminfo[0].CodigoDeFamilia),1),l(S,{modelValue:o.itemFamilyPrompt,"onUpdate:modelValue":e[9]||(e[9]=a=>o.itemFamilyPrompt=a),persistent:""},{default:i(()=>[l(V,{style:{"min-width":"66vw"}},{default:i(()=>[l(f,null,{default:i(()=>[to]),_:1}),l(f,{class:"q-pt-none"},{default:i(()=>[l(A,{filled:"",modelValue:o.itemFamilyModel,"onUpdate:modelValue":e[8]||(e[8]=a=>o.itemFamilyModel=a),"input-debounce":"0",options:o.itemFamilyOptionsFilter},null,8,["modelValue","options"])]),_:1}),l(x,{align:"right",class:"text-primary"},{default:i(()=>[p(l(b,{label:"Cancelar",color:"accent"},null,512),[[_]]),p(l(b,{label:"Cambiar",onClick:o.itemFamilySave,color:"positive"},null,8,["onClick"]),[[_]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),t("tr",null,[lo,t("td",ao,s(o.globalStore.iteminfo[0].Codigodesubfamilia),1)]),t("tr",null,[io,t("td",null,s(o.globalStore.iteminfo[0].IDUnidad),1)]),t("tr",null,[no,t("td",null,s(o.globalStore.iteminfo[0].IDUnidadA),1)]),t("tr",null,[so,t("td",null,s(o.globalStore.iteminfo[0].equivalenciaA),1)]),t("tr",null,[ro,t("td",null,s(o.globalStore.iteminfo[0].CodigoDeBarrasA),1)]),t("tr",null,[mo,t("td",null,s(o.globalStore.iteminfo[0].IDUnidadB),1)]),t("tr",null,[uo,t("td",null,s(o.globalStore.iteminfo[0].equivalenciaB),1)]),t("tr",null,[co,t("td",null,s(o.globalStore.iteminfo[0].CodigoDeBarrasB),1)]),t("tr",{onClick:e[16]||(e[16]=a=>o.itemDimensionPrompt=!0)},[t("td",fo,[l(c,{name:"edit"}),vo]),t("td",bo,s(o.textDimension),1),l(S,{modelValue:o.itemDimensionPrompt,"onUpdate:modelValue":e[15]||(e[15]=a=>o.itemDimensionPrompt=a),persistent:""},{default:i(()=>[l(V,{style:{"min-width":"66vw"}},{default:i(()=>[l(f,null,{default:i(()=>[po]),_:1}),l(f,{class:"q-pt-none"},{default:i(()=>[l(A,{filled:"",modelValue:o.itemDimensionModel,"onUpdate:modelValue":e[11]||(e[11]=a=>o.itemDimensionModel=a),"input-debounce":"0",options:o.itemDimensionOptionsFilter,"option-label":"label","option-value":"value"},null,8,["modelValue","options"])]),_:1}),l(f,null,{default:i(()=>[t("div",_o,[t("div",Do,[l(F,{modelValue:o.itemAltoModel,"onUpdate:modelValue":e[12]||(e[12]=a=>o.itemAltoModel=a),type:"decimal",label:"Alto",dense:"",filled:"","select-all":""},null,8,["modelValue"])]),t("div",go,[l(F,{modelValue:o.itemAnchoModel,"onUpdate:modelValue":e[13]||(e[13]=a=>o.itemAnchoModel=a),type:"number",label:"Ancho",dense:"",filled:"","select-all":""},null,8,["modelValue"])]),t("div",Po,[l(F,{modelValue:o.itemLongitudModel,"onUpdate:modelValue":e[14]||(e[14]=a=>o.itemLongitudModel=a),type:"number",label:"Fondo",dense:"",filled:"","select-all":""},null,8,["modelValue"])])])]),_:1}),l(x,{align:"right",class:"text-primary"},{default:i(()=>[p(l(b,{label:"Cancelar",color:"accent"},null,512),[[_]]),p(l(b,{label:"Cambiar",onClick:o.itemDimensionSave,color:"positive"},null,8,["onClick"]),[[_]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),t("tr",{onClick:e[17]||(e[17]=a=>o.itemDimensionPrompt=!0)},[t("td",null,[l(c,{name:"edit"}),yo]),t("td",null,s(o.globalStore.iteminfo[0].alto),1)]),t("tr",{onClick:e[18]||(e[18]=a=>o.itemDimensionPrompt=!0)},[t("td",null,[l(c,{name:"edit"}),ho]),t("td",null,s(o.globalStore.iteminfo[0].ancho),1)]),t("tr",{onClick:e[19]||(e[19]=a=>o.itemDimensionPrompt=!0)},[t("td",null,[l(c,{name:"edit"}),ko]),t("td",null,s(o.globalStore.iteminfo[0].longitud),1)]),t("tr",{onClick:e[24]||(e[24]=a=>o.itemPesoPrompt=!0)},[t("td",Co,[l(c,{name:"edit"}),Vo]),t("td",xo,s(o.textPeso),1),l(S,{modelValue:o.itemPesoPrompt,"onUpdate:modelValue":e[23]||(e[23]=a=>o.itemPesoPrompt=a),persistent:""},{default:i(()=>[l(V,{style:{"min-width":"66vw"}},{default:i(()=>[l(f,null,{default:i(()=>[So]),_:1}),l(f,{class:"q-pt-none"},{default:i(()=>[l(A,{filled:"",modelValue:o.itemPesoModel,"onUpdate:modelValue":e[20]||(e[20]=a=>o.itemPesoModel=a),"input-debounce":"0",options:o.itemPesoOptionsFilter,"option-label":"label","option-value":"value"},null,8,["modelValue","options"])]),_:1}),l(f,null,{default:i(()=>[t("div",Fo,[t("div",Uo,[l(F,{modelValue:o.itemPesoNetoModel,"onUpdate:modelValue":e[21]||(e[21]=a=>o.itemPesoNetoModel=a),type:"number",label:"Peso neto",dense:"",filled:"","select-all":""},null,8,["modelValue"])]),t("div",wo,[l(F,{modelValue:o.itemPesoEmbalajeModel,"onUpdate:modelValue":e[22]||(e[22]=a=>o.itemPesoEmbalajeModel=a),type:"number",label:"Peso embalaje",dense:"",filled:"","select-all":""},null,8,["modelValue"])])])]),_:1}),l(x,{align:"right",class:"text-primary"},{default:i(()=>[p(l(b,{label:"Cancelar",color:"accent"},null,512),[[_]]),p(l(b,{label:"Cambiar",onClick:o.itemPesoSave,color:"positive"},null,8,["onClick"]),[[_]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),t("tr",{onClick:e[25]||(e[25]=a=>o.itemPesoPrompt=!0)},[t("td",null,[l(c,{name:"edit"}),qo]),t("td",null,s(o.globalStore.iteminfo[0].pesoneto),1)]),t("tr",{onClick:e[26]||(e[26]=a=>o.itemPesoPrompt=!0)},[t("td",null,[l(c,{name:"edit"}),Mo]),t("td",null,s(o.globalStore.iteminfo[0].PesoDeEmbalaje),1)]),t("tr",{onClick:e[27]||(e[27]=a=>o.itemPesoPrompt=!0)},[t("td",null,[l(c,{name:"edit"}),Ao]),t("td",null,s(o.globalStore.iteminfo[0].PesoBruto),1)])])]),_:1})):we("",!0)]),l(S,{persistent:"",modelValue:o.alert,"onUpdate:modelValue":e[28]||(e[28]=a=>o.alert=a),onKeyup:qe(o.playError,["enter"])},{default:i(()=>[l(V,null,{default:i(()=>[l(f,null,{default:i(()=>[Io]),_:1}),l(f,{class:"bg-negative text-white"},{default:i(()=>[v(s(o.alertMsg),1)]),_:1}),l(x,{align:"right"},{default:i(()=>[p(l(b,{flat:"",label:"ENTENDIDO",color:"primary",onClick:o.returnFocus},null,8,["onClick"]),[[_]])]),_:1})]),_:1})]),_:1},8,["modelValue","onKeyup"]),l(Ie,{position:"bottom",offset:[0,18]},{default:i(()=>[l(b,{style:{width:"95vw"},color:"accent","text-color":"white",label:"Buscar otro art\xEDculo","no-caps":"",onClick:o.nuevaLectura},null,8,["onClick"])]),_:1})]),_:1})}var tt=Se(Ne,[["render",Bo],["__scopeId","data-v-cf6a380c"]]);export{tt as default};
