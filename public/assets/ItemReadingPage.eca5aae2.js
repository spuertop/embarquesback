var ge=Object.defineProperty,Pe=Object.defineProperties;var ye=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var he=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable;var J=(s,e,m)=>e in s?ge(s,e,{enumerable:!0,configurable:!0,writable:!0,value:m}):s[e]=m,W=(s,e)=>{for(var m in e||(e={}))he.call(e,m)&&J(s,m,e[m]);if(H)for(var m of H(e))ke.call(e,m)&&J(s,m,e[m]);return s},G=(s,e)=>Pe(s,ye(e));import{j as Ce,k as w,l as X,n as Ve,u as Se,_ as xe,at as Fe,r,x as Ue,o as Y,c as Z,w as i,i as t,e as l,I as c,h as v,K as d,au as L,z as _,Q as p,J as we,a7 as qe,aE as Me,aF as Ae}from"./index.b3b9bf60.js";import{Q as K,a as Ie}from"./index.02a9b9ea.js";import{Q as S,a as f,b as x,C as D}from"./ClosePopup.88bb9aed.js";import{Q as A}from"./QSelect.7dda342a.js";import{Q as F}from"./QDialog.ecc2b44f.js";import{Q as U}from"./QInput.5bbc0e80.js";import{u as Be,a as Qe}from"./use-dark.1b9aa30d.js";import{Q as Ee}from"./QPage.7f5d5fe5.js";import{u as Oe}from"./itemStore.038c5def.js";import{K as $}from"./index.d782ae03.js";import"./use-form.18fd5177.js";import"./QChip.1a71a875.js";import"./QItem.2cdd4dd7.js";import"./QItemLabel.86fb16cf.js";import"./selection.cfc0b11e.js";import"./use-timeout.ceefd4b8.js";import"./format.a33550d6.js";import"./axios.f60c3e4a.js";const ze=["horizontal","vertical","cell","none"];var je=Ce({name:"QMarkupTable",props:G(W({},Be),{dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:s=>ze.includes(s)}}),setup(s,{slots:e}){const m=Se(),o=Qe(s,m.proxy.$q),q=w(()=>`q-markup-table q-table__container q-table__card q-table--${s.separator}-separator`+(o.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(s.dense===!0?" q-table--dense":"")+(s.flat===!0?" q-table--flat":"")+(s.bordered===!0?" q-table--bordered":"")+(s.square===!0?" q-table--square":"")+(s.wrapCells===!1?" q-table--no-wrap":""));return()=>X("div",{class:q.value},[X("table",{class:"q-table"},Ve(e.default))])}});const Ne={setup(){const s=Fe(),e=Oe(),m=r("data");s.currentRoute.value.query.action&&(m.value=s.currentRoute.value.query.action);const o=r(""),q=r(null),P=new Audio("../mixkit-wrong-long-buzzer-954.wav"),a=r(!1),M=r(""),ee=w(()=>m.value==="data"?"article":"photo_camera"),oe=w(()=>m.value==="data"?"Datos":"Fotos"),te=w(()=>e.iteminfo[0].UnidadDeDimensiones=="0"?"mil\xEDmetros":e.iteminfo[0].UnidadDeDimensiones=="1"?"cent\xEDmetros":"metros"),le=w(()=>e.iteminfo[0].UnidadDePeso=="0"?"gramos":"kilos");$.addListener("keyboardWillShow",I),$.addListener("keyboardDidShow",I);function I(){}async function ae(){let n={ae:e.aedocument,ud:o.value,empresa:e.customer};if(m.value,void 0){if(m.value==="load"){const V=await e.uploadUnit(n);console.log(V)}if(m.value==="download"){const V=await e.downloadUnit(n);console.log(V)}}}function Qo(n){}function ie(){P.play()}async function ne(){await e.changeItem()!==void 0&&(M.value="Haz m\xEDnimo una foto",a.value=!0,P.play())}Ue(()=>{});const se=r(!1),R=e.itemExtraInfo.departamentos.map(n=>n.CodigoDeDepartamento),de=r(R),B=r(e.iteminfo[0].CodigoDeDepartamento);async function re(){await e.itemDetpSave(B.value)===1&&(e.iteminfo[0].CodigoDeDepartamento=B.value)}const me=r(!1),T=e.itemExtraInfo.familias.map(n=>n.CodigoDeFamilia),ue=r(T),Q=r(e.iteminfo[0].CodigoDeFamilia);async function ce(){await e.itemFamilySave(Q.value)===1&&(e.iteminfo[0].CodigoDeFamilia=Q.value)}const fe=r(!1),E=[{label:"mil\xEDmetros",value:0},{label:"cent\xEDmetros",value:1},{label:"metros",value:2}],ve=r(E),O=r(E.find(n=>n.value===e.iteminfo[0].UnidadDeDimensiones)),y=r(e.iteminfo[0].ancho),h=r(e.iteminfo[0].longitud),k=r(e.iteminfo[0].alto);async function be(){if(y.value<=0||h.value<=0||k.value<=0){M.value="Las dimensiones deben ser mayores que 0",a.value=!0,P.play();return}function n(b,N=5){return b=b.toString().replace(",","."),b=parseFloat(b).toFixed(N),parseFloat(b)}await e.itemDimensionSave({unidad:O.value.value,ancho:n(y.value),longitud:n(h.value),alto:n(k.value),volumen:n(y.value)*n(h.value)*n(k.value)})===1&&(e.iteminfo[0].UnidadDeDimensiones=O.value.value,e.iteminfo[0].ancho=y.value,e.iteminfo[0].longitud=h.value,e.iteminfo[0].alto=k.value)}const pe=r(!1),z=[{label:"gramos",value:0},{label:"kilos",value:1}],_e=r(z),j=r(z.find(n=>n.value===e.iteminfo[0].UnidadDePeso)),g=r(e.iteminfo[0].pesoneto),C=r(e.iteminfo[0].PesoDeEmbalaje);async function De(){if(g.value<0){M.value="El peso neto no puede estar vac\xEDo o ser menor que 0",a.value=!0,P.play();return}function n(b,N=5){return b=b.toString().replace(",","."),b=parseFloat(b).toFixed(N),parseFloat(b)}await e.itemPesoSave({UnidadDePeso:j.value.value,PesoNeto:n(g.value),PesoDeEmbalaje:n(C.value)||0,PesoBruto:n(g.value)+(n(C.value)||0)})===1&&(e.iteminfo[0].UnidadDePeso=j.value.value,e.iteminfo[0].pesoneto=g.value,e.iteminfo[0].PesoDeEmbalaje=C.value,e.iteminfo[0].PesoBruto=n(g.value)+(n(C.value)||0))}return{globalStore:e,action:m,radioIcons:ee,radioText:oe,barcode:o,returnFocus:I,barcodeinput:q,readBarcode:ae,alert:a,alertMsg:M,playError:ie,nuevaLectura:ne,itemDeptPrompt:se,itemDeptOptions:R,itemDeptOptionsFilter:de,itemDeptModel:B,itemDeptSave:re,itemFamilyPrompt:me,itemFamilyOptions:T,itemFamilyOptionsFilter:ue,itemFamilyModel:Q,itemFamilySave:ce,textDimension:te,textPeso:le,itemDimensionPrompt:fe,itemDimensionOptions:E,itemDimensionOptionsFilter:ve,itemDimensionModel:O,itemDimensionSave:be,itemAnchoModel:y,itemLongitudModel:h,itemAltoModel:k,itemPesoModel:j,itemPesoSave:De,itemPesoOptions:z,itemPesoOptionsFilter:_e,itemPesoPrompt:pe,itemPesoNetoModel:g,itemPesoEmbalajeModel:C}}},u=s=>(Me("data-v-b11c4a3e"),s=s(),Ae(),s),Le={class:"text-center text-h5 text-weight-bold"},Ke={class:"text-center",style:{"font-size":"16px"}},Re={class:"q-pa-none",style:{"font-size":"16px"}},Te=u(()=>t("thead",null,[t("tr",null,[t("th",{class:"text-left",style:{"font-size":"16px"}},"Propiedad"),t("th",{class:"text-left",style:{"font-size":"16px"}},"Valor")])],-1)),He=u(()=>t("td",null,"Art\xEDculo",-1)),Je=u(()=>t("td",null,"Descripcion1",-1)),We=u(()=>t("td",null,"Alternativo",-1)),Ge={class:"thick-border"},Xe=v("Departamento"),Ye={class:"thick-border"},Ze=u(()=>t("div",{class:"text-h6"},"Departamento",-1)),$e={class:"thick-border"},eo=v("Familia"),oo={class:"thick-border"},to=u(()=>t("div",{class:"text-h6"},"Familia",-1)),lo=u(()=>t("td",{class:"thick-border"},"Subfamilia",-1)),ao={class:"thick-border"},io=u(()=>t("td",null,"ID Unidad",-1)),no=u(()=>t("td",null,"ID Unidad A",-1)),so=u(()=>t("td",null,"Equivalencia A",-1)),ro=u(()=>t("td",null,"C\xF3digo barras A",-1)),mo=u(()=>t("td",null,"ID Unidad B",-1)),uo=u(()=>t("td",null,"Equivalencia B",-1)),co=u(()=>t("td",null,"C\xF3digo barras B",-1)),fo={class:"thick-border"},vo=v("Unidad Dimensiones"),bo={class:"thick-border"},po=u(()=>t("div",{class:"text-h6"},"Dimensiones",-1)),_o={class:"row q-col-gutter-md"},Do={class:"col-4"},go={class:"col-4"},Po={class:"col-4"},yo=v("Alto unidad b\xE1sica"),ho=v("Ancho unidad b\xE1sica"),ko=v("Fondo unidad b\xE1sica"),Co={class:"thick-border"},Vo=v("Unidad Peso"),So={class:"thick-border"},xo=u(()=>t("div",{class:"text-h6"},"Peso",-1)),Fo={class:"row q-col-gutter-md"},Uo={class:"col-6"},wo={class:"col-6"},qo=v("Peso neto"),Mo=v("Peso embalaje"),Ao=v("Peso bruto"),Io=u(()=>t("div",{class:"text-h6"},"Error",-1));function Bo(s,e,m,o,q,P){return Y(),Z(Ee,{class:"flex-center q-pa-md"},{default:i(()=>[t("div",Le,[l(c,{name:o.radioIcons},null,8,["name"]),v(" "+d(o.radioText)+" "+d(o.globalStore.customer)+" ",1),l(c,{name:o.radioIcons},null,8,["name"])]),t("div",Ke,[l(K,{modelValue:o.action,"onUpdate:modelValue":e[0]||(e[0]=a=>o.action=a),class:L(o.action==="data"?"text-primary":"text-grey-5"),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"data",label:"Datos",onClick:o.returnFocus},null,8,["modelValue","class","onClick"]),l(K,{modelValue:o.action,"onUpdate:modelValue":e[1]||(e[1]=a=>o.action=a),class:L(o.action==="photo"?"text-primary":"text-grey-5"),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"photo",label:"Fotos UV",onClick:e[2]||(e[2]=a=>this.$router.push("/iphotos"))},null,8,["modelValue","class"]),l(K,{modelValue:o.action,"onUpdate:modelValue":e[3]||(e[3]=a=>o.action=a),class:L(o.action==="photoUA"?"text-primary":"text-grey-5"),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"photoua",label:"Fotos UA",onClick:e[4]||(e[4]=a=>this.$router.push("/iphotosua"))},null,8,["modelValue","class"])]),t("div",Re,[o.globalStore.iteminfo?(Y(),Z(je,{key:0,separator:"horizontal",dense:"",style:{"max-height":"75vh"}},{default:i(()=>[Te,t("tbody",null,[t("tr",null,[He,t("td",null,d(o.globalStore.iteminfo[0].CodigoDeArticulo),1)]),t("tr",null,[Je,t("td",null,d(o.globalStore.iteminfo[0].Descripcion1),1)]),t("tr",null,[We,t("td",null,d(o.globalStore.iteminfo[0].CodigoAlternativo),1)]),t("tr",{onClick:e[7]||(e[7]=a=>o.itemDeptPrompt=!0)},[t("td",Ge,[l(c,{name:"edit"}),Xe]),t("td",Ye,d(o.globalStore.iteminfo[0].CodigoDeDepartamento),1),l(F,{modelValue:o.itemDeptPrompt,"onUpdate:modelValue":e[6]||(e[6]=a=>o.itemDeptPrompt=a),persistent:""},{default:i(()=>[l(S,{style:{"min-width":"66vw"}},{default:i(()=>[l(f,null,{default:i(()=>[Ze]),_:1}),l(f,{class:"q-pt-none"},{default:i(()=>[l(A,{filled:"",modelValue:o.itemDeptModel,"onUpdate:modelValue":e[5]||(e[5]=a=>o.itemDeptModel=a),"input-debounce":"0",options:o.itemDeptOptionsFilter},null,8,["modelValue","options"])]),_:1}),l(x,{align:"right",class:"text-primary"},{default:i(()=>[_(l(p,{label:"Cancelar",color:"accent"},null,512),[[D]]),_(l(p,{label:"Cambiar",onClick:o.itemDeptSave,color:"positive"},null,8,["onClick"]),[[D]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),t("tr",{onClick:e[10]||(e[10]=a=>o.itemFamilyPrompt=!0)},[t("td",$e,[l(c,{name:"edit"}),eo]),t("td",oo,d(o.globalStore.iteminfo[0].CodigoDeFamilia),1),l(F,{modelValue:o.itemFamilyPrompt,"onUpdate:modelValue":e[9]||(e[9]=a=>o.itemFamilyPrompt=a),persistent:""},{default:i(()=>[l(S,{style:{"min-width":"66vw"}},{default:i(()=>[l(f,null,{default:i(()=>[to]),_:1}),l(f,{class:"q-pt-none"},{default:i(()=>[l(A,{filled:"",modelValue:o.itemFamilyModel,"onUpdate:modelValue":e[8]||(e[8]=a=>o.itemFamilyModel=a),"input-debounce":"0",options:o.itemFamilyOptionsFilter},null,8,["modelValue","options"])]),_:1}),l(x,{align:"right",class:"text-primary"},{default:i(()=>[_(l(p,{label:"Cancelar",color:"accent"},null,512),[[D]]),_(l(p,{label:"Cambiar",onClick:o.itemFamilySave,color:"positive"},null,8,["onClick"]),[[D]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),t("tr",null,[lo,t("td",ao,d(o.globalStore.iteminfo[0].Codigodesubfamilia),1)]),t("tr",null,[io,t("td",null,d(o.globalStore.iteminfo[0].IDUnidad),1)]),t("tr",null,[no,t("td",null,d(o.globalStore.iteminfo[0].IDUnidadA),1)]),t("tr",null,[so,t("td",null,d(o.globalStore.iteminfo[0].equivalenciaA),1)]),t("tr",null,[ro,t("td",null,d(o.globalStore.iteminfo[0].CodigoDeBarrasA),1)]),t("tr",null,[mo,t("td",null,d(o.globalStore.iteminfo[0].IDUnidadB),1)]),t("tr",null,[uo,t("td",null,d(o.globalStore.iteminfo[0].equivalenciaB),1)]),t("tr",null,[co,t("td",null,d(o.globalStore.iteminfo[0].CodigoDeBarrasB),1)]),t("tr",{onClick:e[16]||(e[16]=a=>o.itemDimensionPrompt=!0)},[t("td",fo,[l(c,{name:"edit"}),vo]),t("td",bo,d(o.textDimension),1),l(F,{modelValue:o.itemDimensionPrompt,"onUpdate:modelValue":e[15]||(e[15]=a=>o.itemDimensionPrompt=a),persistent:""},{default:i(()=>[l(S,{style:{"min-width":"66vw"}},{default:i(()=>[l(f,null,{default:i(()=>[po]),_:1}),l(f,{class:"q-pt-none"},{default:i(()=>[l(A,{filled:"",modelValue:o.itemDimensionModel,"onUpdate:modelValue":e[11]||(e[11]=a=>o.itemDimensionModel=a),"input-debounce":"0",options:o.itemDimensionOptionsFilter,"option-label":"label","option-value":"value"},null,8,["modelValue","options"])]),_:1}),l(f,null,{default:i(()=>[t("div",_o,[t("div",Do,[l(U,{modelValue:o.itemAltoModel,"onUpdate:modelValue":e[12]||(e[12]=a=>o.itemAltoModel=a),type:"number",label:"Alto",dense:"",filled:"","select-all":""},null,8,["modelValue"])]),t("div",go,[l(U,{modelValue:o.itemAnchoModel,"onUpdate:modelValue":e[13]||(e[13]=a=>o.itemAnchoModel=a),type:"number",label:"Ancho",dense:"",filled:"","select-all":""},null,8,["modelValue"])]),t("div",Po,[l(U,{modelValue:o.itemLongitudModel,"onUpdate:modelValue":e[14]||(e[14]=a=>o.itemLongitudModel=a),type:"number",label:"Fondo",dense:"",filled:"","select-all":""},null,8,["modelValue"])])])]),_:1}),l(x,{align:"right",class:"text-primary"},{default:i(()=>[_(l(p,{label:"Cancelar",color:"accent"},null,512),[[D]]),_(l(p,{label:"Cambiar",onClick:o.itemDimensionSave,color:"positive"},null,8,["onClick"]),[[D]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),t("tr",{onClick:e[17]||(e[17]=a=>o.itemDimensionPrompt=!0)},[t("td",null,[l(c,{name:"edit"}),yo]),t("td",null,d(o.globalStore.iteminfo[0].alto),1)]),t("tr",{onClick:e[18]||(e[18]=a=>o.itemDimensionPrompt=!0)},[t("td",null,[l(c,{name:"edit"}),ho]),t("td",null,d(o.globalStore.iteminfo[0].ancho),1)]),t("tr",{onClick:e[19]||(e[19]=a=>o.itemDimensionPrompt=!0)},[t("td",null,[l(c,{name:"edit"}),ko]),t("td",null,d(o.globalStore.iteminfo[0].longitud),1)]),t("tr",{onClick:e[24]||(e[24]=a=>o.itemPesoPrompt=!0)},[t("td",Co,[l(c,{name:"edit"}),Vo]),t("td",So,d(o.textPeso),1),l(F,{modelValue:o.itemPesoPrompt,"onUpdate:modelValue":e[23]||(e[23]=a=>o.itemPesoPrompt=a),persistent:""},{default:i(()=>[l(S,{style:{"min-width":"66vw"}},{default:i(()=>[l(f,null,{default:i(()=>[xo]),_:1}),l(f,{class:"q-pt-none"},{default:i(()=>[l(A,{filled:"",modelValue:o.itemPesoModel,"onUpdate:modelValue":e[20]||(e[20]=a=>o.itemPesoModel=a),"input-debounce":"0",options:o.itemPesoOptionsFilter,"option-label":"label","option-value":"value"},null,8,["modelValue","options"])]),_:1}),l(f,null,{default:i(()=>[t("div",Fo,[t("div",Uo,[l(U,{modelValue:o.itemPesoNetoModel,"onUpdate:modelValue":e[21]||(e[21]=a=>o.itemPesoNetoModel=a),type:"number",label:"Peso neto",dense:"",filled:"","select-all":""},null,8,["modelValue"])]),t("div",wo,[l(U,{modelValue:o.itemPesoEmbalajeModel,"onUpdate:modelValue":e[22]||(e[22]=a=>o.itemPesoEmbalajeModel=a),type:"number",label:"Peso embalaje",dense:"",filled:"","select-all":""},null,8,["modelValue"])])])]),_:1}),l(x,{align:"right",class:"text-primary"},{default:i(()=>[_(l(p,{label:"Cancelar",color:"accent"},null,512),[[D]]),_(l(p,{label:"Cambiar",onClick:o.itemPesoSave,color:"positive"},null,8,["onClick"]),[[D]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),t("tr",{onClick:e[25]||(e[25]=a=>o.itemPesoPrompt=!0)},[t("td",null,[l(c,{name:"edit"}),qo]),t("td",null,d(o.globalStore.iteminfo[0].pesoneto),1)]),t("tr",{onClick:e[26]||(e[26]=a=>o.itemPesoPrompt=!0)},[t("td",null,[l(c,{name:"edit"}),Mo]),t("td",null,d(o.globalStore.iteminfo[0].PesoDeEmbalaje),1)]),t("tr",{onClick:e[27]||(e[27]=a=>o.itemPesoPrompt=!0)},[t("td",null,[l(c,{name:"edit"}),Ao]),t("td",null,d(o.globalStore.iteminfo[0].PesoBruto),1)])])]),_:1})):we("",!0)]),l(F,{persistent:"",modelValue:o.alert,"onUpdate:modelValue":e[28]||(e[28]=a=>o.alert=a),onKeyup:qe(o.playError,["enter"])},{default:i(()=>[l(S,null,{default:i(()=>[l(f,null,{default:i(()=>[Io]),_:1}),l(f,{class:"bg-negative text-white"},{default:i(()=>[v(d(o.alertMsg),1)]),_:1}),l(x,{align:"right"},{default:i(()=>[_(l(p,{flat:"",label:"ENTENDIDO",color:"primary",onClick:o.returnFocus},null,8,["onClick"]),[[D]])]),_:1})]),_:1})]),_:1},8,["modelValue","onKeyup"]),l(Ie,{position:"bottom",offset:[0,18]},{default:i(()=>[l(p,{style:{width:"95vw"},color:"accent","text-color":"white",label:"Buscar otro art\xEDculo","no-caps":"",onClick:o.nuevaLectura},null,8,["onClick"])]),_:1})]),_:1})}var tt=xe(Ne,[["render",Bo],["__scopeId","data-v-b11c4a3e"]]);export{tt as default};
