import{Q}from"./QInput.bd343c76.js";import{a as x,Q as _}from"./QItem.5a60d082.js";import{_ as L,r as n,k as V,o as c,c as v,w as t,i as p,e as a,f as k,g as I,F as N,K as m,a7 as U,z as w,Q as C,a8 as B,h as S,I as q}from"./index.ad099f98.js";import{Q as A}from"./QList.9aa68070.js";import{Q as K,a as h,b as R,C as D}from"./ClosePopup.45363672.js";import{Q as F}from"./QDialog.abfc31bc.js";import{Q as P}from"./QPage.ee2e9499.js";import{u as E}from"./global.b862c566.js";import{u as G}from"./use-quasar.acfa89f8.js";import"./use-dark.17c46a23.js";import"./format.a33550d6.js";import"./use-form.4c4245c9.js";import"./use-timeout.8bacfa94.js";import"./axios.8b6e0f41.js";const z={setup(){const r=E(),s=G();r.getAllusers();const i=n(""),e=n(!1),u=n(""),d=n(""),o=n(""),f=V(()=>{let l=i.value.toLowerCase();return r.usersList.filter(g=>g.Nombre.toLowerCase().includes(l)||g.Usuario.toLowerCase().includes(l))});function y(l){e.value=!0,u.value=l.Nombre,d.value=l.Usuario,o.value=""}async function b(){e.value=!1;const l=await r.postLogIn({user:d.value,pass:o.value});l&&s.notify({type:"negative",message:l,position:"center",timeout:1e4,actions:[{label:"",icon:"close",color:"white",handler:()=>{}}]})}return{globalStore:r,filteruser:i,filteredList:f,showlogindialog:y,logindialog:e,holausertxt:u,pass:o,postLogin:b}}},H=p("div",{class:"text-center text-h4 text-weight-bold"}," CONFIRMAR CARGAS ",-1),M={style:{"min-width":"90vw"}},O={class:"text-h6"};function T(r,s,i,e,u,d){return c(),v(P,{class:"flex-center q-ma-md"},{default:t(()=>[H,p("div",M,[a(Q,{class:"q-my-md",outlined:"",modelValue:e.filteruser,"onUpdate:modelValue":s[0]||(s[0]=o=>e.filteruser=o),label:"Buscar usuario",autofocus:""},null,8,["modelValue"]),a(A,{bordered:"",separator:""},{default:t(()=>[(c(!0),k(N,null,I(e.filteredList,o=>w((c(),v(x,{class:"q-py-md",clickable:"",key:o.Usuario,onClick:f=>e.showlogindialog(o)},{default:t(()=>[a(_,null,{default:t(()=>[S(m(o.Usuario)+" - "+m(o.Nombre),1)]),_:2},1024),a(_,{avatar:""},{default:t(()=>[a(q,{color:"primary",name:"login"})]),_:1})]),_:2},1032,["onClick"])),[[B]])),128))]),_:1})]),a(F,{modelValue:e.logindialog,"onUpdate:modelValue":s[2]||(s[2]=o=>e.logindialog=o),persistent:""},{default:t(()=>[a(K,{style:{"min-width":"90vw"}},{default:t(()=>[a(h,null,{default:t(()=>[p("div",O,"Hola "+m(e.holausertxt),1)]),_:1}),a(h,{class:"q-pt-none"},{default:t(()=>[a(Q,{modelValue:e.pass,"onUpdate:modelValue":s[1]||(s[1]=o=>e.pass=o),autofocus:"",type:"password",onKeyup:U(e.postLogin,["enter"]),placeholder:"Contrase\xF1a"},null,8,["modelValue","onKeyup"])]),_:1}),a(R,{align:"right",class:"text-primary"},{default:t(()=>[w(a(C,{"no-caps":"",color:"secondary",label:"Cerrar"},null,512),[[D]]),a(C,{"no-caps":"",color:"accent",label:"Entrar",onClick:e.postLogin,disable:!(e.pass.length>3)},null,8,["onClick","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var ne=L(z,[["render",T]]);export{ne as default};
