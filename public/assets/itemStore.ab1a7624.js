import{L as o}from"./index.ad099f98.js";import{api as s}from"./axios.8b6e0f41.js";const n=o("useItemStore",{persist:{storage:window.sessionStorage},state:()=>({usersList:[],userName:null,customersList:[],customer:null,searchBy:"C\xF3digo de barras",item:null,iteminfo:null,itemExtraInfo:null,token:null,photoList:[],photoListUA:[]}),getters:{},actions:{async getAllusers(){try{const t=await s.get("/users/allgds");this.usersList=t.data}catch(t){return t.response.data.error}},async postLogIn(t){try{const e=await s.post("/users/login",t);sessionStorage.setItem("token",e.data.token),this.setHeaders(),this.router.push("/icustomers")}catch(e){return e.response.data.error}},setHeaders(){this.token=sessionStorage.getItem("token"),s.defaults.headers.common.Authorization=this.token},logOut(){sessionStorage.clear(),this.token=null,s.defaults.headers.common.Authorization=null,this.usersList=[],this.userName=null,this.customersList=[],this.customer=null,this.photoList=[],this.photoListUA=[],this.router.push("/"),this.searchBy="C\xF3digo de barras",this.item=null,this.iteminfo=null,this.itemExtraInfo=null},async getAllCustomers(){try{this.setHeaders();const t=await s.get("/customers/all");this.customersList=t.data}catch(t){return t.response.data.error}},setCustomer(t){this.customer=t,this.router.push("/idocuments")},async getItemInfo(t){try{this.setHeaders();const e=await s.get("/itemdata",{params:t});this.iteminfo=e.data.articulos,this.item=this.iteminfo[0].CodigoDeArticulo;const r=await s.get("/itemextradata",{params:t});this.itemExtraInfo=r.data,this.router.push("/ireadings")}catch(e){return console.log(e),e.response.data.error}},async itemDetpSave(t){try{let e={Empresa:this.customer,CodigoDeArticulo:this.item,CodigoDeDepartamento:t};return(await s.patch("/itemPatchDepartment",e)).data.result[0]}catch(e){return console.log(e),e.response.data.error}},async itemFamilySave(t){try{let e={Empresa:this.customer,CodigoDeArticulo:this.item,CodigoDeFamilia:t};return(await s.patch("/itempatchfamily",e)).data.result[0]}catch(e){return console.log(e),e.response.data.error}},async itemDimensionSave(t){try{let e={Empresa:this.customer,CodigoDeArticulo:this.item,UnidadDeDimensiones:t.unidad,Ancho:t.ancho,Longitud:t.longitud,Alto:t.alto,Volumen:t.volumen};return(await s.patch("/itempatchdimension",e)).data.result[0]}catch(e){return console.log(e),e.response.data.error}},async itemPesoSave(t){try{let e={Empresa:this.customer,CodigoDeArticulo:this.item,PesoNeto:t.PesoNeto,PesoDeEmbalaje:t.PesoDeEmbalaje,PesoBruto:t.PesoBruto,UnidadDePeso:t.UnidadDePeso};return(await s.patch("/itempatchpeso",e)).data.result[0]}catch(e){return console.log(e),e.response.data.error}},async changeItem(){this.photoList=[],this.item=null,this.iteminfo=null,this.router.push("/idocuments")},async uploadPhoto(t){try{this.setHeaders(),await s.post("/ipostphoto",{customer:this.customer,item:this.item,photo:t})}catch(e){return e.response.data.error}},async uploadPhotoua(t){try{this.setHeaders(),await s.post("/ipostphotoua",{customer:this.customer,item:this.item,photo:t})}catch(e){return e.response.data.error}},async getPhotos(){try{if(this.setHeaders(),this.photoList=[],this.item){const t=await s.get("/itemgetphotos",{params:{articulo:this.item,empresa:this.customer}});let e=1;for(let r=0;r<t.data.length;r++)this.photoList.push({id:e,src:"http://172.18.10.150:4002/Articulos/"+this.customer+"/"+this.item+"/"+t.data[r],name:t.data[r]}),e++}}catch(t){return t.response.data.error}},async getPhotosUA(){try{if(this.setHeaders(),this.photoListUA=[],this.item){const t=await s.get("/itemgetphotosua",{params:{articulo:this.item,empresa:this.customer}});let e=1;for(let r=0;r<t.data.length;r++)this.photoListUA.push({id:e,src:"http://172.18.10.150:4002/Articulos/"+this.customer+"/"+this.item+"/"+t.data[r],name:t.data[r]}),e++}}catch(t){return t.response.data.error}},async deletePhoto(t){try{this.setHeaders(),await s.delete("/ideletephoto",{data:{customer:this.customer,item:this.item,name:t}})}catch(e){return e.response.data.error}},async deletePhotoua(t){try{this.setHeaders(),await s.delete("/ideletephotoua",{data:{customer:this.customer,item:this.item,name:t}})}catch(e){return e.response.data.error}}}});export{n as u};
