import{_ as w,r as d,o as n,f as r,e as a,w as s,F as _,i as l,I as y,h as V,K as p,au as v,J as Q,Q as m,g as S,ax as x,z as k,c as P}from"./index.ad099f98.js";import{Q as f,a as U}from"./index.5ebd5fcc.js";import{C as D,a as I,Q as A,b as B,c as z}from"./index.7919311c.js";import{Q as q}from"./QPage.ee2e9499.js";import{Q as F,a as L,b as N,C}from"./ClosePopup.45363672.js";import{Q as E}from"./QDialog.abfc31bc.js";import{u as R}from"./itemStore.ab1a7624.js";import"./use-dark.17c46a23.js";import"./use-form.4c4245c9.js";import"./touch.70a9dd44.js";import"./selection.f103b8d1.js";import"./use-timeout.8bacfa94.js";import"./axios.8b6e0f41.js";const T={setup(){const i=R();i.getPhotos();const e=d("photo"),u=d(""),o=d(1);async function h(){await i.changeItem()!==void 0&&(alertMsg.value="Haz m\xEDnimo una foto",alert.value=!0,audioError.play())}async function g(){const c=await D.getPhoto({quality:75,allowEditing:!1,resultType:I.Base64,source:"CAMERA",correctOrientation:!0});u.value="data:image/jpeg;base64, "+c.base64String,console.log(c.base64String),await i.uploadPhoto(c.base64String),i.getPhotosUA()}async function t(){await i.deletePhoto(i.photoList[o.value-1].name),await i.getPhotosUA(),o.value=1}const b=d(!1);return{globalStore:i,action:e,nuevaLectura:h,imageSrc:u,captureImage:g,slide:o,deleteImg:t,confirmDel:b}}},j={class:"text-center text-h5 text-weight-bold"},H={class:"text-center",style:{"font-size":"16px"}},M={class:"q-pa-sm",style:{"font-size":"16px"}},J={key:0,class:"row items-center"},K={class:"col-3"},O={class:"col"},G={class:"row items-center q-pt-sm"},W={class:"col-12 flex justify-center"},X={key:0},Y={key:1,class:"text-center text-grey-7"},Z=l("h5",null,"No data",-1),$=[Z],oo={class:"text-center text-orange",style:{"font-size":"16px"}},eo=l("br",null,null,-1),to=l("br",null,null,-1),ao=l("span",{class:"q-ml-sm"},"\xBFBorrar la foto definitivamente?",-1);function lo(i,e,u,o,h,g){return n(),r(_,null,[a(q,{class:"flex-center q-pa-md"},{default:s(()=>[l("div",j,[a(y,{name:"photo_camera"}),V(" Foto Ud.Venta "+p(o.globalStore.customer)+" ",1),a(y,{name:"photo_camera"})]),l("div",H,[a(f,{modelValue:o.action,"onUpdate:modelValue":e[0]||(e[0]=t=>o.action=t),class:"text-grey-5","checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"data",label:"Datos",onClick:e[1]||(e[1]=t=>this.$router.push({path:"/ireadings",query:{action:"data"}}))},null,8,["modelValue"]),a(f,{modelValue:o.action,"onUpdate:modelValue":e[2]||(e[2]=t=>o.action=t),class:v(o.action==="photo"?"text-primary":"text-grey-5"),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"photo",label:"Fotos UV",onClick:e[3]||(e[3]=t=>this.$router.push("/iphotos"))},null,8,["modelValue","class"]),a(f,{modelValue:o.action,"onUpdate:modelValue":e[4]||(e[4]=t=>o.action=t),class:v(o.action==="photoUA"?"text-primary":"text-grey-5"),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"photoua",label:"Fotos UA",onClick:e[5]||(e[5]=t=>this.$router.push("/iphotosua"))},null,8,["modelValue","class"])]),l("div",M,[o.globalStore.iteminfo?(n(),r("div",J,[l("div",K,p(o.globalStore.iteminfo[0].CodigoDeArticulo),1),l("div",O,p(o.globalStore.iteminfo[0].Descripcion1),1)])):Q("",!0),l("div",G,[l("div",W,[a(m,{style:{width:"100vw"},icon:"photo_camera",color:"primary",label:"Hacer Foto",onClick:o.captureImage},null,8,["onClick"])])])]),o.globalStore.photoList.length>0?(n(),r("div",X,[a(A,{animated:"",modelValue:o.slide,"onUpdate:modelValue":e[6]||(e[6]=t=>o.slide=t),arrows:"",navigation:"",infinite:"","control-type":"regular","control-color":"primary","navigation-position":"top",style:{height:"50vh"}},{default:s(()=>[(n(!0),r(_,null,S(o.globalStore.photoList,t=>(n(),P(z,{key:t.id,name:t.id,class:"no-margin no-padding"},{default:s(()=>[a(B,{src:t.src,contain:"",sizes:"(max-width: 600px) 480px, 800px"},null,8,["src"])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])])):(n(),r("div",Y,$)),a(U,{position:"bottom",offset:[0,18]},{default:s(()=>[l("div",oo,[a(x,{icon:"delete",color:"primary","text-color":"white",onClick:e[7]||(e[7]=t=>o.confirmDel=!0)}),eo,to]),a(m,{style:{width:"95vw"},color:"accent","text-color":"white",label:"Buscar otro art\xEDculo","no-caps":"",onClick:o.nuevaLectura},null,8,["onClick"])]),_:1})]),_:1}),a(E,{modelValue:o.confirmDel,"onUpdate:modelValue":e[8]||(e[8]=t=>o.confirmDel=t),persistent:""},{default:s(()=>[a(F,null,{default:s(()=>[a(L,{class:"row items-center"},{default:s(()=>[a(x,{icon:"delete",color:"primary","text-color":"white"}),ao]),_:1}),a(N,{align:"right"},{default:s(()=>[k(a(m,{flat:"",label:"Cancelar",color:"secondary"},null,512),[[C]]),k(a(m,{flat:"",label:"S\xED, borrar",color:"primary",onClick:o.deleteImg},null,8,["onClick"]),[[C]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}var vo=w(T,[["render",lo]]);export{vo as default};
